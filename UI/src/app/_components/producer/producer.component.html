<div class="container">
  <div class="row">
    <div class="col-md-6">
    <h2>Devices</h2>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>PVW</th>
            <th>PGM</th>
            <th>Name</th>
            <th>Description</th>
            <th>Active Listeners</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let device of devices" [class.text-muted]="!device.enabled">
            <td [class.bg-success]="device.modePreview"></td>
            <td [class.bg-danger]="device.modeProgram"></td>
            <td>{{device.name}}</td>
            <td>{{device.description}}</td>
            <td><span class="badge bg-dark" *ngIf="device.listenerCount && device.listenerCount > 0">{{device.listenerCount}}</span></td>
          </tr>
        </tbody>
      </table>
      <h2>Clients</h2>
      <table class="table table-hover">
        <thead>
          <tr>
            <th></th>
            <th>IP</th>
            <th>Type</th>
            <th>Device</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let listenerClient of listenerClients" [class.text-muted]="listenerClient.inactive">
            <td>{{listenerClient.datetime_connected | date: "shortTime"}}</td>
            <td>{{listenerClient.ipAddress}}</td>
            <td>{{listenerClient.listenerType}}</td>
            <td>{{listenerClient.device?.name}}</td>
            <td><button *ngIf="!listenerClient.inactive && listenerClient.canBeFlashed" class="btn btn-outline-dark" (click)="flashListener(listenerClient)">Flash</button></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-6">
        CHAT
    </div>
  </div>
</div>
